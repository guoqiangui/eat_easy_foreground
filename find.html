<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<title></title>
		<link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="css/base.css">
		<link rel="stylesheet" type="text/css" href="css/eat-easy-font.css"/>
		<link rel="stylesheet" href="css/find.css">
	</head>
	<body>
		<header class="header">
			<a href="#" class="header-back">
				<i class="fa fa-angle-left"></i>
				返回
			</a>
			<h1 class="header-title">发现</h1>
		</header>
		<div class="container">
			<div class="message-list">
				<a href="#" class="message-item">
					<div class="message-item-inner">
						<img src="./imgs/food/1545709432596.jpg" class="message-img">
						<p class="message-desc">
							这款连张根硕和少女时代都在网上大呼喜爱的蜂蜜黄油口味一直从去年红到现在！它的口味走红，也让不少其它品牌开始模效仿，不过，他们家的口味依然无可取代！感觉一切东西和蜂蜜、黄油混在一起，都会超好吃！北海道是日本最好的奶源地，这款Calbee（卡乐比）蜂蜜北海道黄油厚切薯片选用北海道产的黄油制成，薯片、黄油、蜂蜜混合，迷之甜咸味道真素超奇妙！
						</p>
						<div class="message-item-info">
							<div class="message-user-wrapper">
								<img src="./imgs/icons/userLogo.jpg" class="user-logo">
								<span class="username">小明</span>
							</div>
							<div class="message-assignment-wrapper">
								<div class="assignment">
									<i class="icon icon-assignment"></i>
									<span>93</span>
								</div>
								<div class="praise">
									<i class="icon icon-praise"></i>
									<span>61</span>
								</div>
							</div>
						</div>
					</div>
				</a>
			</div>
		</div>
	</body>
</html>
<script src="js/lib/jquery-1.11.1.min.js"></script>
<script src="database/all.js"></script>
<script>
	$(function () {
		$(".header-back").on("click", function () {
			history.go(-1);
		});
		
		// 渲染文章列表
		if(localStorage.getItem("choice")) {
			// 读取用户选择
			var choiceJson = localStorage.getItem("choice");
			var choiceArr = JSON.parse(choiceJson);
			// console.log(choiceArr);
			
			var renderStr = ``;
			
			choiceArr.forEach(function (ele, index) {
				var articleArr = allArticle[ele];
				// console.log(articleArr)
				
				articleArr.forEach(function (article, index) {
					// 拼接字符串
					renderStr += `
						<a href="detail.html?id=${article['id']}" class="message-item">
							<div class="message-item-inner">
								<img src="${article['thumbnail']}" class="message-img">
								<p class="message-desc">${article['content']}</p>
								<div class="message-item-info">
									<div class="message-user-wrapper">
										<img src="./imgs/icons/userLogo.jpg" class="user-logo">
										<span class="username">小明</span>
									</div>
									<div class="message-assignment-wrapper">
										<div class="assignment">
											<i class="icon icon-assignment"></i>
											<span>93</span>
										</div>
										<div class="praise">
											<i class="icon icon-praise"></i>
											<span>6</span>
										</div>
									</div>
								</div>
							</div>
						</a>
					`;
				});
				
				
			});
			
			
			// 渲染
			$(".message-list").html(renderStr);
		} else {
			// 每一种随机1篇
			
		}
	});
</script>